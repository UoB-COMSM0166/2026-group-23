<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="localhost" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) next-ai-draw-io/0.4.12 Chrome/142.0.7444.235 Electron/39.2.7 Safari/537.36" version="29.3.5">
  <diagram id="jXYBBn2dbsK0Rlt07sSZ" name="第 1 页">
    <mxGraphModel dx="2600" dy="2978" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="2" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1" value="UML图：塔防游戏项目" vertex="1">
          <mxGeometry height="40" width="720" x="710" y="-60" as="geometry" />
        </mxCell>
        <mxCell id="3" parent="1" style="swimlane;startSize=30;horizontal=0;fontSize=18;fontStyle=1;fillColor=#d5e8d4;strokeColor=#82b366;rounded=1;" value="类图" vertex="1">
          <mxGeometry height="1006" width="1870" x="250" y="-40" as="geometry" />
        </mxCell>
        <mxCell id="6" parent="3" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" value="" vertex="1">
          <mxGeometry height="230" width="204" x="250" y="28" as="geometry" />
        </mxCell>
        <mxCell id="45" edge="1" parent="3" source="8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="18">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="142" y="660" />
              <mxPoint x="760" y="660" />
              <mxPoint x="760" y="180" />
            </Array>
            <mxPoint x="770" y="140" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8" parent="3" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" value="" vertex="1">
          <mxGeometry height="222" width="180" x="52" y="408" as="geometry" />
        </mxCell>
        <mxCell id="37" edge="1" parent="3" source="10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="41" edge="1" parent="3" source="10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.014;entryY=0.664;entryDx=0;entryDy=0;entryPerimeter=0;" target="18">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="350" y="690" />
              <mxPoint x="770" y="690" />
              <mxPoint x="770" y="229" />
            </Array>
            <mxPoint x="780" y="230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="10" parent="3" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" value="" vertex="1">
          <mxGeometry height="134" width="178" x="262" y="408" as="geometry" />
        </mxCell>
        <mxCell id="11" parent="10" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingTop=4;fontSize=12;" value="Tower&amp;nbsp;&lt;div&gt;------------------------&amp;nbsp;&lt;/div&gt;&lt;div&gt;-archer: Archer&lt;/div&gt;&lt;div&gt;&amp;nbsp;------------------------&amp;nbsp;&lt;/div&gt;&lt;div&gt;(包含Archer对象)&lt;/div&gt;" vertex="1">
          <mxGeometry height="80.39999999999999" width="174.04444444444445" x="5.933333333333334" y="10.719999999999999" as="geometry" />
        </mxCell>
        <mxCell id="38" edge="1" parent="3" source="12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="12" parent="3" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" value="" vertex="1">
          <mxGeometry height="222" width="180" x="470" y="408" as="geometry" />
        </mxCell>
        <mxCell id="14" parent="3" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" value="" vertex="1">
          <mxGeometry height="230" width="190" x="466" y="708" as="geometry" />
        </mxCell>
        <mxCell id="16" parent="3" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" value="" vertex="1">
          <mxGeometry height="295" width="230" x="1110" y="395" as="geometry" />
        </mxCell>
        <mxCell id="18" parent="3" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" value="" vertex="1">
          <mxGeometry height="300" width="200" x="840" y="30" as="geometry" />
        </mxCell>
        <mxCell id="20" parent="3" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" value="" vertex="1">
          <mxGeometry height="300" width="200" x="1070" y="30" as="geometry" />
        </mxCell>
        <mxCell id="46" edge="1" parent="3" source="22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" target="26">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="22" parent="3" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" value="" vertex="1">
          <mxGeometry height="305" width="230" x="1370" y="395" as="geometry" />
        </mxCell>
        <mxCell id="24" parent="3" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" value="" vertex="1">
          <mxGeometry height="295" width="230" x="840" y="395" as="geometry" />
        </mxCell>
        <mxCell id="32" edge="1" parent="3" source="6" style="edgeStyle=orthogonalEdgeStyle;endArrow=block;startArrow=none;html=1;rounded=0;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" target="8" value="继承">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="33" edge="1" parent="3" source="6" style="edgeStyle=orthogonalEdgeStyle;endArrow=block;startArrow=none;html=1;rounded=0;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" target="10" value="继承">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="34" edge="1" parent="3" source="6" style="edgeStyle=orthogonalEdgeStyle;endArrow=block;startArrow=none;html=1;rounded=0;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" target="12" value="继承">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="15" parent="3" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingTop=4;fontSize=12;" value="Bullet&lt;br/&gt;------------------------&amp;nbsp;&lt;div&gt;-target: Enemy&amp;nbsp;&lt;/div&gt;&lt;div&gt;-damage: number&lt;br/&gt;-speed: number&lt;br/&gt;-velocity: p5.Vector&lt;br/&gt;-bulletIndex: number&lt;br/&gt;-flipX: boolean&lt;br/&gt;-flipY: boolean&lt;br/&gt;------------------------&lt;br/&gt;+update(): void&lt;br/&gt;+display(): void&lt;br/&gt;+updateDirection(): void&lt;/div&gt;" vertex="1">
          <mxGeometry height="217" width="188" x="480" y="714.5" as="geometry" />
        </mxCell>
        <mxCell id="9" parent="3" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingTop=4;fontSize=12;" value="Enemy&lt;br/&gt;------------------------&amp;nbsp;&lt;div&gt;-hp: number&lt;/div&gt;&lt;div&gt;&amp;nbsp;-maxHp: number&lt;br/&gt;-speed: number&lt;br/&gt;-path: Array&lt;br/&gt;-offsetWaypoints: Array&lt;br/&gt;-reachedEnd: boolean&lt;br/&gt;------------------------&lt;br/&gt;+update(): void&lt;br/&gt;+display(): void&lt;br/&gt;+takeDamage(damage): void&lt;/div&gt;" vertex="1">
          <mxGeometry height="197" width="176" x="56" y="423" as="geometry" />
        </mxCell>
        <mxCell id="7" parent="3" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingTop=4;fontSize=12;" value="SpriteEntity&lt;br/&gt;(src/entities/Entity.js)&amp;nbsp;&lt;div&gt;------------------------&amp;nbsp;&lt;/div&gt;&lt;div&gt;#pos: p5.Vector&lt;/div&gt;&lt;div&gt;&amp;nbsp;#currentAction: string&amp;nbsp;&lt;/div&gt;&lt;div&gt;#frameIdx: number&lt;br/&gt;#timer: number&lt;br/&gt;#facing: number&lt;br/&gt;------------------------&lt;br/&gt;+animate(actionName, fps): void&lt;br/&gt;+display(): void (抽象)&lt;/div&gt;" vertex="1">
          <mxGeometry height="217.5" width="176" x="264" y="48" as="geometry" />
        </mxCell>
        <mxCell id="40" edge="1" parent="3" source="13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="748" y="513" />
              <mxPoint x="748" y="120" />
              <mxPoint x="840" y="120" />
            </Array>
            <mxPoint x="840" y="120" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="13" parent="3" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingTop=4;fontSize=12;" value="Archer&lt;br/&gt;------------------------&amp;nbsp;&lt;div&gt;-range: number&lt;/div&gt;&lt;div&gt;&amp;nbsp;-damage: number&lt;/div&gt;&lt;div&gt;&amp;nbsp;-attackSpeed: number&lt;br/&gt;-target: Enemy&lt;br/&gt;-attackCooldown: number&lt;br/&gt;-isAttacking: boolean&lt;br/&gt;------------------------&lt;br/&gt;+update(): void&lt;br/&gt;+startAttack(): void&lt;/div&gt;" vertex="1">
          <mxGeometry height="178.9714285714286" width="176" x="480" y="423.00428571428574" as="geometry" />
        </mxCell>
        <mxCell id="17" parent="3" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingTop=4;fontSize=12;" value="AssetManager&lt;br/&gt;(src/system/AssetManager.js)&amp;nbsp;&lt;div&gt;------------------------&amp;nbsp;&lt;/div&gt;&lt;div&gt;-animations: Object&amp;nbsp;&lt;/div&gt;&lt;div&gt;-bulletImages: Array&lt;br/&gt;-config: Object&lt;br/&gt;------------------------&lt;br/&gt;+preload(): void&lt;br/&gt;+setup(): Object&lt;br/&gt;+getAnimation(name): Array&lt;/div&gt;" vertex="1">
          <mxGeometry height="190.66666666666666" width="196" x="1120" y="426.17" as="geometry" />
        </mxCell>
        <mxCell id="23" parent="3" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingTop=4;fontSize=12;" value="ResourceManager&lt;br/&gt;(src/managers/ResourceManager.js)&amp;nbsp;&lt;div&gt;------------------------&amp;nbsp;&lt;/div&gt;&lt;div&gt;-gold: number&lt;br/&gt;-playerHp: number&lt;br/&gt;-maxPlayerHp: number&lt;br/&gt;-wave: number&lt;br/&gt;-maxWave: number&lt;br/&gt;-listeners: Array&amp;lt;Function&amp;gt;&lt;br/&gt;------------------------&lt;br/&gt;+addGold(amount): void&lt;br/&gt;+spendGold(amount): boolean&lt;br/&gt;+takeDamage(damage): boolean&lt;br/&gt;+heal(amount): void&lt;br/&gt;+minigameScoreToGold(score): number&lt;br/&gt;+addListener(callback): void&lt;br/&gt;+notifyListeners(type, amount): void&lt;/div&gt;" vertex="1">
          <mxGeometry height="306" width="176" x="1380" y="410.58" as="geometry" />
        </mxCell>
        <mxCell id="19" parent="3" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingTop=4;fontSize=12;" value="GameManager&lt;br/&gt;(src/system/GameManager.js)&amp;nbsp;&lt;div&gt;------------------------&amp;nbsp;&lt;/div&gt;&lt;div&gt;-layout: Object&lt;br/&gt;-enemies: Array&amp;lt;Enemy&amp;gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;-towers: Array&amp;lt;Tower&amp;gt;&amp;nbsp;&lt;/div&gt;&lt;div&gt;-bullets: Array&amp;lt;Bullet&amp;gt;&amp;nbsp;&lt;/div&gt;&lt;div&gt;-gamePath: Path&lt;/div&gt;&lt;div&gt;&amp;nbsp;------------------------&lt;/div&gt;&lt;div&gt;&amp;nbsp;+update(): void&lt;br/&gt;+display(): void&lt;br/&gt;+handleMousePressed(): void&lt;br/&gt;+handleKeyPressed(): void&lt;/div&gt;" vertex="1">
          <mxGeometry height="310" width="196" x="850" y="60" as="geometry" />
        </mxCell>
        <mxCell id="21" parent="3" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingTop=4;fontSize=12;" value="MinigameManager&amp;nbsp;&lt;div&gt;(src/minigame/MinigameManager.js)&amp;nbsp;&lt;div&gt;------------------------&lt;br/&gt;-layout: Object&lt;br/&gt;-resourceManager: ResourceManager&lt;br/&gt;-score: number&lt;br/&gt;-gameState: string&lt;br/&gt;-totalEarnedGold: number&lt;br/&gt;-player: Object&lt;br/&gt;-items: Array&lt;br/&gt;-itemSpawnTimer: number&lt;br/&gt;------------------------&lt;br/&gt;+update(): void&lt;br/&gt;+display(): void&lt;br/&gt;+handleMousePressed(): void&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="362.57142857142856" width="196" x="1074" y="48.00428571428574" as="geometry" />
        </mxCell>
        <mxCell id="25" parent="3" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingTop=4;fontSize=12;" value="Path&lt;br&gt;(src/managers/Path.js)&lt;div&gt;&amp;nbsp;-------------------------&lt;div&gt;waypoints: Array&amp;lt;p5.Vector&amp;gt;&amp;nbsp;&lt;/div&gt;&lt;div&gt;-smoothWaypoints: Array&amp;lt;p5.Vector&amp;gt;&amp;nbsp;&lt;/div&gt;&lt;div&gt;-pathWidth: number&lt;/div&gt;&lt;div&gt;&amp;nbsp;------------------------&lt;br&gt;+getAllWaypoints(): Array&lt;br&gt;+getWaypoint(index): p5.Vector&lt;br&gt;+draw(): void&lt;br&gt;+addWaypoint(x, y): void&lt;br&gt;+removeLastWaypoint(): void&lt;br&gt;-generateSmoothPath(): Array&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="257" width="210" x="860" y="423" as="geometry" />
        </mxCell>
        <mxCell id="28" parent="3" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;arcSize=21;" value="" vertex="1">
          <mxGeometry height="195.5" width="210" x="850" y="714.5" as="geometry" />
        </mxCell>
        <mxCell id="29" parent="3" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingTop=4;fontSize=12;" value="GameConfig&lt;div&gt;&amp;nbsp;(src/constants/GameConfig.js)&lt;div&gt;&amp;nbsp;------------------------&amp;nbsp;&lt;/div&gt;&lt;div&gt;+RESOURCE: Object&amp;nbsp;&lt;/div&gt;&lt;div&gt;+ENEMY: Object&amp;nbsp;&lt;/div&gt;&lt;div&gt;+ARCHER: Object&amp;nbsp;&lt;/div&gt;&lt;div&gt;+BULLET: Object&amp;nbsp;&lt;/div&gt;&lt;div&gt;+PATHS: Object&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="190.89230769230767" width="186.2" x="871.9" y="740.6069230769232" as="geometry" />
        </mxCell>
        <mxCell id="30" parent="3" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" value="" vertex="1">
          <mxGeometry height="193.95" width="200" x="1130" y="716.05" as="geometry" />
        </mxCell>
        <mxCell id="31" parent="3" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingTop=4;fontSize=12;" value="LayoutConfig&amp;nbsp;&lt;div&gt;(src/constants/LayoutConfig.js)&lt;br/&gt;------------------------&lt;br/&gt;+RESOURCE_BAR: Object&lt;br/&gt;+MAIN_GAME: Object&lt;br/&gt;+MINIGAME: Object&lt;br/&gt;+CANVAS: Object&lt;/div&gt;" vertex="1">
          <mxGeometry height="88" width="196" x="1144" y="740.61" as="geometry" />
        </mxCell>
        <mxCell id="26" parent="3" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" value="" vertex="1">
          <mxGeometry height="300" width="230" x="1370" y="30" as="geometry" />
        </mxCell>
        <mxCell id="27" parent="3" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingTop=4;fontSize=12;" value="ResourceBar&amp;nbsp;&lt;div&gt;(src/ui/ResourceBar.js)&lt;/div&gt;&lt;div&gt;&amp;nbsp;------------------------&lt;br/&gt;-resourceManager: ResourceManager&lt;br/&gt;-layout: Object&lt;br/&gt;-height: number&lt;br/&gt;-gold: number&lt;br/&gt;-hp: number&lt;br/&gt;-maxHp: number&lt;br/&gt;-wave: number&lt;br/&gt;-maxWave: number&lt;br/&gt;-lastGoldEarned: number&lt;br/&gt;------------------------&lt;br/&gt;+display(): void&lt;br/&gt;+updateData(data): void&lt;br/&gt;+drawGold(): void&lt;br/&gt;+drawHealth(): void&lt;br/&gt;+drawWave(): void&lt;br/&gt;+showGoldEarned(amount): void&lt;/div&gt;" vertex="1">
          <mxGeometry height="130" width="176" x="1390" y="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
