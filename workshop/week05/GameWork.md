# 🎮 数字塔防（Number Defense）

**课程项目 | p5.js 2D 网页游戏**

---

## 项目简介

《数字塔防》是一款结合 **塔防策略** 与 **数学类投球小游戏** 的 2D 网页游戏。  
玩家需要在每一波怪物开始前，通过小游戏获得金币，然后用金币放置和升级塔，抵御怪物进攻。

**核心特点：**
- 每波怪开始前进行投球小游戏（小球经过增减门，最终数量转换为金币）
- 波间可使用金币建塔、升级塔或购买道具
- 塔防关卡自动战斗，击败所有怪物则胜利
- 游戏逻辑清晰、易于扩展，适合课堂项目展示

---

## 游戏玩法

### 1. 投球小游戏（Mini-game Phase）
- 玩家拥有一批小球，从顶部落下
- 小球经过“门”改变数量：
  - `+N`：增加小球数
  - `-N`：减少小球数
  - `×N`：数量翻倍
- 小球最终数量 = **本波可用金币**

### 2. 波间准备阶段（Build Phase）
- 投球结束后，玩家可以：
  - 放置新塔
  - 升级已有塔
  - 购买一次性道具（可选）
- 可设置时间限制（例如 10 秒）

### 3. 战斗阶段（Combat Phase）
- 怪物沿路径前进，塔自动攻击
- 击杀怪物会掉落少量金币
- 怪物到达终点 → 玩家生命值减少
- 全部怪物被击败 → 进入下一波

### 4. 游戏胜负
- 生命值耗尽 → 游戏失败
- 完成所有波次 → 游戏胜利

---

## 经济系统（金币来源与用途）

### 金币来源
1. **投球小游戏**（主要）：每波开始前的小球数量
2. **击杀怪物**（次要）：少量金币用于波内微调

### 金币用途
- 建造塔（基础塔、快速塔、范围塔）
- 塔升级（仅 1 次升级，提升攻击、范围或攻速）
- 一次性技能道具（可选）

---

## 项目模块与分工（六人团队）

| 模块 | 说明 | 负责人 |
|------|------|--------|
| 投球小游戏模块 | 小球物理、门逻辑、金币结算 | 成员 1 |
| 塔防战斗模块 | 塔攻击、怪物伤害、波次控制 | 成员 2 |
| 地图与路径模块 | 塔位判定、怪物路径管理 | 成员 3 |
| 游戏流程控制 | 状态机：小游戏 → 建造 → 战斗 → 下一波 | 成员 4 |
| UI & HUD | 金币显示、血条、按钮、塔升级界面 | 成员 5 |
| 平衡与整合 | 数值平衡、关卡设计、最终整合 | 成员 6 |

---

## 技术栈

- [p5.js](https://p5js.org/) — 游戏渲染和物理模拟  
- JavaScript ES6 — 模块化开发  
- JSON — 关卡与波次配置  
- GitHub — 团队协作与版本控制

---

## 安装与运行

1. 克隆项目：
```bash
git clone https://github.com/yourusername/number-defense.git